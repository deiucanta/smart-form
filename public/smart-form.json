{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "smart-form",
  "type": "registry:component",
  "title": "Smart Form",
  "description": "Type-safe form builder with shadcn components",
  "dependencies": [
    "@smart-form/core",
    "@smart-form/react",
    "lucide-react"
  ],
  "registryDependencies": [
    "input",
    "label",
    "select",
    "button",
    "textarea"
  ],
  "files": [
    {
      "path": "apps/demo/src/registry/smart-form.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronDown, ChevronUp, Plus, Trash2 } from \"lucide-react\";\nimport type {\n  ComponentRegistry,\n  TextFieldProps,\n  TextareaFieldProps,\n  SelectFieldProps,\n  ArrayFieldProps,\n  FormWrapperProps,\n  SubmitButtonProps,\n  FieldWrapperProps,\n  SpanValue,\n} from \"@smart-form/core\";\n\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\n\nfunction getSpanClass(span?: SpanValue): string {\n  const spanClasses: Record<SpanValue, string> = {\n    1: \"col-span-1\",\n    2: \"col-span-2\",\n    3: \"col-span-3\",\n    4: \"col-span-4\",\n    5: \"col-span-5\",\n    6: \"col-span-6\",\n    7: \"col-span-7\",\n    8: \"col-span-8\",\n    9: \"col-span-9\",\n    10: \"col-span-10\",\n    11: \"col-span-11\",\n    12: \"col-span-12\",\n  };\n  return spanClasses[span ?? 12];\n}\n\nexport const shadcnComponents: ComponentRegistry = {\n  TextField: ({\n    name,\n    value,\n    error,\n    label,\n    inputType = \"text\",\n    min,\n    max,\n    step,\n    placeholder,\n    onChange,\n    onBlur,\n  }: TextFieldProps) => (\n    <div className=\"space-y-2\">\n      {label && <Label htmlFor={name}>{label}</Label>}\n      <Input\n        id={name}\n        name={name}\n        type={inputType}\n        value={value as string}\n        onChange={(e) => {\n          const val =\n            inputType === \"number\" && e.target.value !== \"\"\n              ? Number(e.target.value)\n              : e.target.value;\n          onChange(val);\n        }}\n        onBlur={onBlur}\n        min={min}\n        max={max}\n        step={step}\n        placeholder={placeholder}\n        aria-invalid={!!error}\n      />\n      {error && <p className=\"text-sm text-destructive\">{error}</p>}\n    </div>\n  ),\n\n  TextareaField: ({\n    name,\n    value,\n    error,\n    label,\n    rows = 3,\n    placeholder,\n    onChange,\n    onBlur,\n  }: TextareaFieldProps) => (\n    <div className=\"space-y-2\">\n      {label && <Label htmlFor={name}>{label}</Label>}\n      <Textarea\n        id={name}\n        name={name}\n        value={value as string}\n        onChange={(e) => onChange(e.target.value)}\n        onBlur={onBlur}\n        rows={rows}\n        placeholder={placeholder}\n        aria-invalid={!!error}\n      />\n      {error && <p className=\"text-sm text-destructive\">{error}</p>}\n    </div>\n  ),\n\n  SelectField: ({\n    name,\n    value,\n    error,\n    label,\n    options,\n    placeholder,\n    onChange,\n    onBlur,\n  }: SelectFieldProps) => (\n    <div className=\"space-y-2\">\n      {label && <Label htmlFor={name}>{label}</Label>}\n      <Select\n        value={value as string}\n        onValueChange={onChange}\n      >\n        <SelectTrigger\n          id={name}\n          className=\"w-full\"\n          aria-invalid={!!error}\n          onBlur={onBlur}\n        >\n          <SelectValue placeholder={placeholder} />\n        </SelectTrigger>\n        <SelectContent>\n          {options.map((opt) => (\n            <SelectItem key={opt.value} value={opt.value}>\n              {opt.label}\n            </SelectItem>\n          ))}\n        </SelectContent>\n      </Select>\n      {error && <p className=\"text-sm text-destructive\">{error}</p>}\n    </div>\n  ),\n\n  ArrayField: ({\n    name,\n    value,\n    error,\n    label,\n    sortable,\n    renderItem,\n    onAdd,\n    onRemove,\n    onMove,\n  }: ArrayFieldProps) => {\n    const items = value as unknown[];\n    return (\n      <div className=\"space-y-3\">\n        <div className=\"flex items-center justify-between\">\n          {label && <Label>{label}</Label>}\n          <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={onAdd}>\n            <Plus className=\"h-4 w-4 mr-1\" />\n            Add\n          </Button>\n        </div>\n        {items.map((_, index) => (\n          <div\n            key={index}\n            className=\"flex gap-2 items-start p-3 border rounded-md\"\n          >\n            {sortable && (\n              <div className=\"flex flex-col gap-1\">\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-6 w-6\"\n                  onClick={() => onMove(index, index - 1)}\n                  disabled={index === 0}\n                >\n                  <ChevronUp className=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-6 w-6\"\n                  onClick={() => onMove(index, index + 1)}\n                  disabled={index === items.length - 1}\n                >\n                  <ChevronDown className=\"h-4 w-4\" />\n                </Button>\n              </div>\n            )}\n            <div className=\"flex-1 grid grid-cols-12 gap-2\">\n              {renderItem(index) as React.ReactNode}\n            </div>\n            <Button\n              type=\"button\"\n              variant=\"ghost\"\n              size=\"icon\"\n              onClick={() => onRemove(index)}\n            >\n              <Trash2 className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        ))}\n        {error && <p className=\"text-sm text-destructive\">{error}</p>}\n      </div>\n    );\n  },\n\n  FormWrapper: ({ children, onSubmit }: FormWrapperProps) => (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        onSubmit();\n      }}\n      className=\"space-y-4\"\n    >\n      <div className=\"grid grid-cols-12 gap-4\">{children as React.ReactNode}</div>\n    </form>\n  ),\n\n  SubmitButton: ({ isSubmitting, children }: SubmitButtonProps) => (\n    <div className=\"col-span-12\">\n      <Button type=\"submit\" className=\"w-full\" disabled={isSubmitting}>\n        {isSubmitting ? \"Submitting...\" : (children as React.ReactNode) ?? \"Submit\"}\n      </Button>\n    </div>\n  ),\n\n  FieldWrapper: ({ span, children }: FieldWrapperProps) => (\n    <div className={getSpanClass(span)}>{children as React.ReactNode}</div>\n  ),\n};\n",
      "type": "registry:component",
      "target": "components/ui/smart-form.tsx"
    }
  ]
}